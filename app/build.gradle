apply plugin: 'com.android.application'
apply plugin: 'kotlin-android'
apply plugin: 'kotlin-android-extensions'
apply plugin: 'kotlin-kapt'

android {
    compileSdkVersion Versions.compileSdkVersion
    defaultConfig {
        applicationId "com.jueggs.stackdownloader"
        minSdkVersion Versions.minSdkVersion
        targetSdkVersion Versions.targetSdkVersion
        versionCode Versions.versionCode
        versionName Versions.versionName

        multiDexEnabled true
        vectorDrawables.useSupportLibrary = true
        testInstrumentationRunner "android.support.test.runner.AndroidJUnitRunner"
    }
    buildTypes {
        debug {
            buildConfigField "boolean", "Debug", "true"
        }
        release {
            buildConfigField "boolean", "Debug", "false"
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }
    dataBinding { enabled = true }

    flavorDimensions "main"
    productFlavors {
        dev {
            dimension "main"
            applicationIdSuffix ".dev"
        }
        prod {
            dimension "main"
            applicationIdSuffix ".prod"
        }
    }
}

kotlin { experimental { coroutines "enable" } }
androidExtensions { experimental = true }

dependencies {
    implementation project(":data")
    implementation project(":domain")

    implementation Libs.kotlinStd8
    implementation Libs.appcompat
    implementation Libs.design
    implementation Libs.constraintLayout
    implementation Libs.mapStruct
    implementation Libs.andutils
    implementation Libs.resutils
    implementation Libs.koin
    implementation Libs.koinAndroidArchitecture
    implementation Libs.androidKtx
    implementation Libs.retrofit2
    implementation Libs.retrofit2GsonConverter
    implementation Libs.kotlinCoroutine
    implementation Libs.joda
    implementation Libs.okLog
    implementation Libs.retrofit2CoroutineAdapter
    implementation Libs.stackoverflowtag
    implementation Libs.archNavigationFragment
    implementation Libs.archNavigationUi
    kapt Libs.mapStructProc
    kapt Libs.databindingCompiler

    testImplementation Libs.jUnit
    androidTestImplementation Libs.testRunner
    androidTestImplementation Libs.espressoCore
}
